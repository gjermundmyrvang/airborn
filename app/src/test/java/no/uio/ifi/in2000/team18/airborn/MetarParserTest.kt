package no.uio.ifi.in2000.team18.airborn

import no.uio.ifi.in2000.team18.airborn.data.repository.parsers.ParseResult
import no.uio.ifi.in2000.team18.airborn.data.repository.parsers.parseMetar
import org.junit.Test

class MetarParserTest {
    @Test
    fun parseMetarWithRVR() {
        val source =
            "ENSS 152150Z 07014KT 1100 R33/P2000 -SN SCT005/// BKN015/// OVC038/// M01/M02 Q1009 RMK WIND 0500FT VRB04KT="
        val res = parseMetar(source)
        print(res)
        assert(res is ParseResult.Ok)
    }

    @Test
    fun parseWithMinusAndVC() {
        val source =
            "ENSS 152150Z 07014KT 1100 -VCSN SCT005/// BKN015/// OVC038/// M01/M02 Q1009 RMK WIND 0500FT VRB04KT="
        val res = parseMetar(source)
        assert(res is ParseResult.Ok)
    }

    @Test
    fun lotsOfMetars() {
        for (metar in metars) {
            val res = parseMetar(metar)
            assert(res is ParseResult.Ok)
        }
    }
}

val metars = listOf(
    "ENSG 152220Z VRB01KT 9999 NCD M01/M05 Q1001 RMK WIND 3806FT 09006KT=",
    "ENEV 151320Z 02006KT 340V050 9999 VCSH FEW027 SCT046 BKN057 02/M02 Q1007 NOSIG RMK WIND 1400FT 03009KT=",
    "ENEV 160450Z VRB02KT 9999 FEW011 SCT062 00/M01 Q1008 NOSIG RMK WIND 1400FT 03014KT=",
    "ENZV 152050Z 07008KT CAVOK 08/00 Q0999=",
    "ENOL 151250Z 11007KT 9999 FEW040 07/M03 Q1004 NOSIG=",
    "ENOL 160450Z 06004KT CAVOK M00/M05 Q1005 NOSIG=",
    "ENVA 152050Z VRB02KT CAVOK M00/M04 Q1005 RMK WIND 670FT 12004KT=",
    "ENSR 151250Z 36006KT 310V030 9999 SCT035/// OVC061/// 03/M04 Q1006 RMK WIND RWY 32 35007KT WIND 1119FT 28006KT=",
    "ENSR 160450Z 15005KT 9999 BKN045 BKN055 00/M02 Q1007 RMK WIND RWY 32 13007KT WIND 1119FT 13007KT=",
    "ENRM 152120Z 03006KT 9999 NCD 01/M03 Q1006=",
    "ENAL 151320Z 06011KT CAVOK 09/M01 Q1001=",
    "ENAL 160450Z 15003KT 130V260 CAVOK 01/M01 Q1003=",
    "ENBS 152050Z 08013KT 9999 -SN OVC052/// M03/M05 Q1008 RESG=",
    "ENRS 151250Z 01017KT 5000 DZ NCD 02/M01 Q1008=",
    "ENRS 160420Z 02014KT 9999 NCD 02/M02 Q1008=",
    "ENAN 152020Z VRB02KT 9999 -SN VV012 00/M01 Q1009 RESHSN=",
    "ENHD 151250Z 12020KT 9999 FEW033 BKN110 09/01 Q0998=",
    "ENHD 160450Z 00000KT CAVOK 00/M02 Q1003=",
    "ENSK 152050Z 10003KT 9999 FEW011/// SCT053/// BKN086/// M00/M01 Q1009=",
    "ENSD 151150Z 08009KT CAVOK 08/M02 Q1001 RMK WIND RWY 26 09008KT WIND 1140FT 08007KT=",
    "ENSD 160350Z 00000KT CAVOK 00/M01 Q1003 RMK WIND RWY 26 VRB02KT WIND 1140FT 07004KT=",
    "ENBR 152020Z 04003KT 9999 FEW035 BKN080 06/M01 Q1000 RMK WIND 1200FT 04008KT=",
    "ENSB 151320Z 12009KT 9999 VCSH FEW015 SCT025 M13/M19 Q1017 RMK WIND 1400FT 25005KT=",
    "ENSB 160520Z 11007KT 9999 -SN FEW010 SCT030 BKN080 M13/M15 Q1017 RMK WIND 1400FT 27002KT=",
    "ENBL 152220Z 32002KT 9999 NCD 01/M05 Q1001=",
    "ENBO 151250Z 02010KT 350V050 9999 FEW030 SCT055 BKN070 03/M03 Q1007 NOSIG=",
    "ENBO 160450Z 10004KT CAVOK M01/M04 Q1008=",
    "ENBV 152050Z 09021KT 7000 -SN NCD M01/M03 Q1009=",
    "ENNA 151150Z 03008KT 9999 -SNRA FEW009 BKN024 OVC039 03/M01 Q1004 RMK WIND 1800FT 31014KT=",
    "ENNA 160350Z 19005KT 9999 FEW028 BKN049 M01/M05 Q1009 RMK WIND 1800FT 15014KT=",
    "ENOV 151850Z 00000KT CAVOK 06/M02 Q1001 RMK WIND RWY24 00000KT WIND 2090FT 00000KT=",
    "ENKR 151050Z 04010KT 9999 -SN FEW002 SCT006 BKN009 00/M01 Q1002 RMK WIND 731FT 05014KT=",
    "ENKR 160250Z 09011KT 6000 -SN ///033/// M02/M06 Q1008 RMK WIND 731FT 09013KT=",
    "ENHK 151850Z 24008KT 9999 -RA FEW010 SCT032 01/M00 Q1006=",
    "ENMH 151150Z 08013KT 9999 SCT011 BKN020 00/M01 Q1005=",
    "ENTC 150620Z 36003KT 5000 -SHSN BKN030 00/M03 Q1005 TEMPO 4000 -SHSN VV014 RMK WIND 2600FT 32012KT=",
    "ENTC 152220Z 00000KT CAVOK M01/M02 Q1008 RMK WIND 2600FT 34015KT=",
    "ENSH 151420Z 02011KT 9999 FEW038 SCT070 04/M04 Q1008 RMK WIND 0150FT /////KT=",
    "ENBN 150650Z VRB02KT 9999 FEW018 SCT047 04/M01 Q1006=",
    "ENBN 152250Z 05005KT 9999NDV NCD 01/M05 Q1006=",
    "ENML 151450Z 08004KT CAVOK 11/M03 Q1001=",
    "ENFL 150620Z 13010KT CAVOK 06/00 Q1000=",
    "ENFL 152220Z 09003KT 9999NDV NCD 03/01 Q1002=",
    "ENTO 151350Z 15007KT 100V170 CAVOK 09/M03 Q1002 NOSIG=",
    "ENTO 160550Z 36009KT CAVOK 03/M03 Q1002 NOSIG=",
    "ENST 160320Z 05007KT 9999 FEW030 00/M08 Q1006 RMK WIND 300FT 05011KT=",
    "ENRO 151920Z 00000KT 9999 NCD M03/M08 Q1002=",
    "ENKB 151050Z 08009KT CAVOK 07/M02 Q1002 RMK WIND 745FT 09010KT=",
    "ENKB 160250Z 07004KT 9999 NCD 02/M04 Q1003 RMK WIND 745FT 09010KT=",
    "ENHV 151650Z 10025KT 9999 -SN FEW011 BKN017 00/M03 Q1007=",
    "ENSO 150820Z 12016KT 9999 SCT038 BKN052 06/01 Q0999=",
    "ENAS 151220Z 12005KT 5000 -SHSN FEW005 SCT010 BKN020 M09/M12 Q1016=",
    "ENHF 151850Z 25006KT 9999 -RASN FEW010 BKN013 01/00 Q1005 RMK WIND 1254FT 26012KT=",
    "ENRA 150950Z 29004KT 260V330 9999 FEW035 SCT040 BKN060 04/M04 Q1005=",
    "ENRA 160120Z 00000KT 9999 SCT050 M02/M03 Q1006=",
    "ENVD 151750Z 07017KT 9999 -SN FEW012 SCT018 BKN028 M01/M04 Q1007=",
    "ENCN 150920Z 08010KT 9999 -RA FEW009 SCT011 BKN015 05/03 Q1003=",
    "ENCN 160120Z 05005KT 9999 NCD 02/M01 Q1000=",
    "ENAT 151720Z 36008KT 9999 FEW024 BKN033 02/M01 Q1006 RMK WIND 700FT 36009KT=",
    "ENLK 150920Z 04009KT 9999 -SHSN FEW030 BKN060 03/M02 Q1007=",
    "ENLK 160450Z 35003KT 330V060 9999 FEW020 FEW030CB M00/M01 Q1008=",
    "ENSS 152050Z 09015KT 9999 -SHRA OVC030/// M00/M06 Q1008 RMK WIND 0500FT VRB08G20KT=",
    "ENSS 160450Z 09019KT 9999 BKN030/// OVC043/// M02/M07 Q1010 RMK WIND 0500FT VRB07G19KT=",
    "ENGM 151220Z VRB04KT CAVOK 08/M07 Q1002 NOSIG=",
    "ENGM 152020Z 02003KT CAVOK 04/M05 Q1001 NOSIG=",
    "ENGM 160420Z 03010KT CAVOK M02/M07 Q1001 NOSIG=",
    "ENNM 151220Z 36004KT 310V110 9999 SCT036 06/M03 Q1005=",
    "ENNM 152050Z 07003KT CAVOK M01/M04 Q1006=",
    "ENNM 160450Z 05005KT CAVOK M03/M05 Q1006=",
    "ENNO 151250Z 12005KT CAVOK 11/M04 Q1001=",
    "ENDU 150820Z 28009KT 9999 SCT030 OVC050 01/M03 Q1005 NOSIG RMK WIND 1100FT 30009KT WIND 2200FT 30009KT=",
    "ENDU 151620Z 28007KT 9999 FEW015 SCT025 BKN045 01/M02 Q1007 NOSIG RMK WIND 1100FT 29008KT WIND 2200FT 32007KT=",
    "ENDU 152350Z 29006KT 9999 VCSH FEW020 BKN040 M00/M01 Q1007 RMK WIND 1100FT 31007KT WIND 2200FT 36010KT=",
)
